<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>vue-fancy-form example</title>

        <style type="text/css">
            body {
                background-color: #eee;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <vue-fancy-form :options.sync='loginForm'></vue-fancy-form>
        </div>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js"></script>
        <script type="text/javascript" src="../dist/vue-fancy-form.js"></script>
        <script type="text/javascript">
            new Vue({
                el: '#app',
                components: {
                    'VueFancyForm': window['vue-fancy-form'].VueFancyForm,
                },
                data: {
                    loginForm: {
                        submit: function(vm, done) {
                            // Simulating ajax requests/custom submit processing
                            setTimeout(() => {
                                if (Math.random() < .5) {
                                    done('Custom failure message');
                                } else {
                                    done();
                                }
                            }, Math.random() * (2000 - 500) + 500);
                        },
                        cancel: function(vm, done) {
                            for (const input of vm.options.inputs) {
                                input.value = '';
                            }
                        },
                        inputs: [
                            {
                                type: 'email',
                                id: 'email',
                                label: 'e-mail address',
                                value: 'jon.doe@example.com',
                                validation: {
                                    required: true,
                                },
                            },
                            {
                                type: 'password',
                                id: 'password',
                                label: 'password',
                                value: 'secretpassword',
                                validation: {
                                    required: true,
                                },
                            },
                            {
                                type: 'password',
                                id: 'repeat_password',
                                label: 'repeat password',
                                value: 'secretpassword',
                                validation: {
                                    required: true,
                                    sameAs: 'password',
                                },
                            },
                        ],
                        controls: {
                            submit: {
                                text: 'submit',
                            },
                            cancel: {
                                text: 'reset',
                            },
                        },
                    },
                },
            });
        </script>
    </body>
</html>
